# -*- coding: utf-8 -*-
"""
Spyder Editor

This is a temporary script file.
"""
import time
import linkGrabber
import re
from selenium import webdriver


user_agent = ("Mozilla/5.0 (Windows NT 10.0; WOW64) "
            "AppleWebKit/537.36 (KHTML, like Gecko) "
            "Chrome/56.0.2924.87 Safari/537.36")

fr = open('D:/B-大连理工大学期间材料/1.0-期刊推特关注网络/1.0.0---SCI收录期刊2017的出版商Twitter关注网络/google_selenium_出版商官网_list/出版商.txt', encoding='utf-8')
data = fr.readlines()
keywords = []
for d in data:
    d = d.replace('\n','')
    keywords.append(d)

try:
##############################################################
###############获取初始页面####################################
##############################################################
    for word in keywords:   #调用webdriver
        chrome_path = r"C:\Program Files (x86)\Google\Chrome\Application\chromedriver.exe"
        driver = webdriver.Chrome(chrome_path)
        driver.get("https://www.google.com")
        driver.implicitly_wait(1)
        time.sleep(1)
        try:    #输入关键词检索
            driver.find_element_by_class_name('gsfi').clear
            driver.find_element_by_class_name('gsfi').send_keys(word)
            driver.find_element_by_xpath("""//*[@id="tsf"]/div[2]/div[3]/center/input[1]""").click()
            driver.implicitly_wait(5)
#############################################################
###############解析二级页面###################################
#############################################################
        
            info = driver.find_element_by_class_name('r')  #获取头条内容保存
            link = info.find_element_by_tag_name('a').get_attribute('href')
            text = info.find_element_by_tag_name('h3').text
            with open('D:/B-大连理工大学期间材料/1.0-期刊推特关注网络/1.0.0---SCI收录期刊2017的出版商Twitter关注网络/google_selenium_出版商官网_list/出版商_twitter.txt','a',encoding='utf8',errors='ignore') as f:
                 f.write('源：{}\t标题：{}\t链接：{}\n'.format(word,text,link))
            driver.close()
        except:
            with open('D:/B-大连理工大学期间材料/1.0-期刊推特关注网络/1.0.0---SCI收录期刊2017的出版商Twitter关注网络/google_selenium_出版商官网_list/失败日志.txt','a',encoding='utf8',errors='ignore') as f:
                f.write('源：{}\n'.format(word + "页面元素获取失败"))            
            pass
            driver.close()
except:
    pass
    print(word + "GOOGLE调用失败")
    with open('D:/B-大连理工大学期间材料/1.0-期刊推特关注网络/1.0.0---SCI收录期刊2017的出版商Twitter关注网络/google_selenium_出版商官网_list/失败日志.txt','a',encoding='utf8',errors='ignore') as f:
        f.write('源：{}\n'.format(word + "GOOGLE调用失败"))
    driver.close()


###########################################################################################################################
出版商 google 筛选一遍  这些出版商都是twitter有返回结果的出版商列表
 SPRINGER HEIDELBERG
MARY ANN LIEBERT, INC
SPRINGER
TAYLOR & FRANCIS LTD
ORDEM MEDICOS
PACINI EDITORE
WILEY
BUDAPEST TECH
BMJ PUBLISHING GROUP
LIPPINCOTT WILLIAMS & WILKINS
S HIRZEL VERLAG
TAYLOR & FRANCIS AS
OXFORD UNIV PRESS
SCIENCE PRESS
KARGER
CAMBRIDGE UNIV PRESS
PEKING UNIV PRESS
BIOMED CENTRAL LTD
COGNIZANT COMMUNICATION CORP
OLD CITY PUBLISHING INC
SOCIDROGALCOHOL
SPRINGER-VERLAG BERLIN
WILEY-BLACKWELL
CRC PRESS-TAYLOR & FRANCIS GROUP
ASM INT
ICE PUBLISHING
ASOC QUIMICOS
AGRARFORSCHUNG
SPRINGER FRANCE
AGRICULTURAL HISTORY SOCIETY
COLEGIO POSTGRADUADOS
IOS PRESS
IMPA
ASOCIACION PALEONTOLOGICA ARGENTINA
NATURE PUBLISHING GROUP
CELL PRESS
UNIV CHICAGO PRESS
BRILL ACADEMIC PUBLISHERS
AMPHIBIAN & REPTILE CONSERVATION
UNIV MURCIA
GOBIERNO DE NAVARRA
ROYAL SOC CHEMISTRY
CSIRO PUBLISHING
ELSEVIER
INST MATHEMATICAL STATISTICS
ANNUAL REVIEWS
CONSEJO SUPERIOR INVESTIGACIONES CIENTIFICAS-CSIC
MASSON EDITEUR
SOC MATHEMATIQUE FRANCE
SCUOLA NORMALE SUPERIORE
CARNEGIE MUSEUM NATURAL HISTORY
ANNALS FAMILY MEDICINE
MISSOURI BOTANICAL GARDEN
MINISTRY COMMUNICATIONS & HIGH TECHNOLOGIES REPUBLIC AZERBAIJAN
ASME
MDPI AG
APPITA
SHANGHAI UNIV
INTER-RESEARCH
ELSEVIER MASSON
ARQUIVOS BRASILEIROS CARDIOLOGIA
EDINBURGH UNIV PRESS
MIT PRESS
FRAME
CENTRO CIENCIAS ATMOSFERA UNAM
CMOS-SCMO
ROYAL AUSTRALIAN COLLEGE GENERAL PRACTITIONERS
AUSTRALIAN NURSING FEDERATION
AUTEX
KOREMA
TAYLOR & FRANCIS AUSTRALASIA
RESILIENCE ALLIANCE
ERNST &SOHN
BEILSTEIN-INSTITUT
ROYAL SOC
INST NACIONAL SALUD
INST SPORT
SOC BOTANICA MEXICO
AOSIS
INST AGRONOMICO
ROYAL COLLEGE OF PSYCHIATRISTS
WORLD HEALTH ORGANIZATION
CADERNOS SAUDE PUBLICA
CANADIAN J UROLOGY
VIA MEDICA
SCRIPPS INST OCEANOGRAPHY
DIETITIANS CANADA
IEEE CANADA
CMA-CANADIAN MEDICAL ASSOC
CANADIAN VET MED ASSOC
E-MED
UNIV PUERTO RICO,
NATL INST PUBLIC HEALTH
C M B ASSOC
AACC INTERNATIONAL
ASSOC CHEMICAL ENG
HIGHER EDUCATION PRESS
MINERALOGICAL SOC
CLEVELAND CLINIC
TECH SCIENCE PRESS
GLOBAL SCIENCE PRESS
TECHNO-PRESS
WILEY-HINDAWI
COLEOPTERISTS SOC
EUROPEAN MATHEMATICAL SOC
HELMINTHOLOGICAL SOC WASHINGTON
IEEE COMPUTER SOC
NATURALIS BIODIVERSITY CENTER
MEDICINSKA NAKLADA
ECOPETROL SA
CURRENT MEDICINE GROUP
MULTIMED INC
ELSEVIER TAIWAN
AVES
DISCOVERY MEDICINE
AMER DIABETES ASSOC
UNIV BIELEFELD
DUKE UNIV PRESS
WHO EASTERN MEDITERRANEAN REGIONAL OFFICE
FOUNDATION ENVIRONMENTAL PROTECTION & RESEARCH-FEPR
KENT STATE UNIVERSITY
CENTERS DISEASE CONTROL
ENDOCRINE SOC
UMSCHAU VERLAG
EUROPEAN SPACE AGENCY
EUROPA EDITION
QUINTESSENCE PUBLISHING CO INC
BASKENT UNIV
ELSEVIER INC
ASSOC FIRE ECOLOGY
FOOD HYGIENE & SAFETY
NOW PUBLISHERS INC
FACULTY FOOD TECHNOLOGY BIOTECHNOLOGY
ORIENTAL BIRD CLUB
ZHEJIANG UNIV
FUJITSU LTD
GENETICS SOCIETY AMERICA
OEKOM VERLAG
UNIV BARCELONA
GEOLOGICA BELGICA
GEOLOGICAL SURVEY DENMARK & GREENLAND
SOC GLASS TECHNOLOGY
PUBLIC HEALTH AGENCY CANADA
STATISTICS CANADA
HERPETOLOGICAL CONSERVATION & BIOLOGY
PROJECT HOPE
HERPETOLOGISTS LEAGUE
URBAN & VOGEL
LITHOGRAPHIA
UNIV CALIFORNIA PRESS
F HERNANDEZ
UNIV HOUSTON
IWA PUBLISHING
IBM CORP
LITERATURA MEDICA
AGRICULTURAL RESEARCH COMMUNICATION CENTRE
SPRINGER INDIA
VETERINARY SOLUTIONS LLC
ATLANTIS PRESS
IGI GLOBAL
ESG
UNIV TEHRAN
CARL HANSER VERLAG
CONNECT JOURNALS
INFORMS
INTERCIENCIA
MICROBIOLOGY SOC
INT COLLEGE OF SURGEONS
KOWSAR CORP
TEAGASC
NATL ACAD SCIENCES
SOC GEOLOGICA ITALIANA
CHIRIOTTI EDITORI
INST TRANSPORTATION ENGINEERS
HOKKAIDO UNIV
JOURNAL OF DRUGS IN DERMATOLOGY
INDA
US FISH & WILDLIFE SERVICE
SLACK INC
RESEARCH INFORMATION LTD
FRONTLINE MEDICAL COMMUNICATIONS
ELEMENT
JOURNAL NEUROLOGICAL SCIENCES
AUSTRALIAN PHYSIOTHERAPY ASSOC
AUSTRALIAN BUREAU METEOROLOGY
JOURNAL SPORTS SCIENCE & MEDICINE
JOURNAL STATISTICAL SOFTWARE
ASSOC INFORMATION SYSTEMS
INT AIDS SOCIETY
HARBORSIDE PRESS
JOURNAL OF VISUALIZED EXPERIMENTS
BIOLIFE SAS
JOURNAL BONE JOINT SURGERY
IS&T & SPIE
TRIVENI ENTERPRISES
UNIV COMPLUTENSE MADRID
INST INFORMATION SCIENCE
H M P COMMUNICATIONS
JMNI
SOC NEUROSCIENCE
ECOLE POLYTECHNIQUE MONTREAL
THETA FOUNDATION
J OS PT
EDIZIONI ETS
PRINTS PUBLICATIONS PVT LTD
US GOVERNMENT PRINTING OFFICE
AUDIO ENGINEERING SOC
CANADIAN DENTAL ASSOC
INDIAN INST SCIENCE
LEPIDOPTERISTS SOC
MATH SOC JAPAN
NATL MED ASSOC
TORREY BOTANICAL SOC
KUWAIT MEDICAL ASSOC
KYBERNETIKA
COLEGIO FARMACEUTICOS PROVINCIA DE BUENOS AIRES
LEPRA
LYMPHOLOGY
UNIV BIO-BIO
POLYMAT
LONDON MATH SOC
MATTIOLI 1885
SCIENCE & MEDICINE INC
MEDICINA (BUENOS AIRES)
MICRO PRESS
MIC
MOLECULAR VISION
MOUNTAIN RESEARCH & DEVELOPMENT
SIAM PUBLICATIONS
NATURAL PRODUCTS INC
NATURAL HISTORY MAGAZINE
BAILEY-MATTHEWS SHELL MUSEUM
OBSERVATORY
UBM MEDICA
BIRDLIFE FINLAND
PROFESSIONAL MEDICAL PUBLICATIONS
UNIV KARACHI
COQUINA PRESS
MEDICAL MEDIA
AMER ACAD PEDIATRIC DENTISTRY
AMER ACAD PEDIATRICS
MAGNOLIA PRESS
PUBLIC LIBRARY SCIENCE
MEDYCYNA PRAKTYCZNA
HARD
ISMITHERS
E M W PUBLISHING
JAPAN ACAD
UNIV AUTONOMA BARCELONA
BROWN UNIV
ADVANTAGE BUSINESS MEDIA
SOC RANGE MANAGEMENT
ACG PUBLICATIONS
AUSTRALIAN MUSEUM
SPRINGER PUBLISHING CO
FUNDACION AIGLE
PONTIFICIA UNIVERSIDADE CATOLICA CAMPINAS
RED IRIS
UNIV CORDOBA
UNIV PRESS
UNIV VALPARAISO
REVISTA DE BIOLOGIA TROPICAL
CENIM
REVISTA DE NEUROLOGIA
CENTRO GEOCIENCIAS UNAM
MUSEUM HISTOIRE NATURELLE
ARS DOCENDI
ASSOCIACAO PAULISTA MEDICINA
SA MEDICAL ASSOC
SAUDI MED J
SCANDINAVIAN JOURNAL WORK ENVIRONMENT & HEALTH
LABX MEDIA GROUP
SINGAPORE MEDICAL ASSOC
EXTENSION MEDIA
STATA PRESS
IABSE
UNIV BABES-BOLYAI
ROYAL COLLEGE SURGEONS EDINBURGH
EGE UNIV
CHULALONGKORN UNIV
TOHOKU UNIVERSITY
STAATLICHES MUSEUM TIERKUNDE DRESDEN
UNIV GHENT
WATER ENVIRONMENT FEDERATION
WATER RESEARCH COMMISSION
WILSON ORNITHOLOGICAL SOC
WILDLIFE BIOLOGY
VANDENHOECK & RUPRECHT

